<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bassco Beauty</title>
    <link rel="icon" href="../img/logoicon.svg">
    <link rel="stylesheet" href="../style/gallery.css">
    <link rel="stylesheet" href="../style/main-page.css">
    <link rel="stylesheet" href="../style/catalogue.css">
    <link rel="stylesheet" href="../style/reset.css">
</head>

<body>
    <header class="header">
        <!--Шапка с навигацией-->
        <div class="container">
            <div class="header__upper">
                <a href="../index.html"><img src="../img/logo.png" alt="Логотип"></a>
                <nav class="header__upper-nav">
                    <a href="../index.html">ГЛАВНАЯ</a>
                    <a href="catalogue.html">КАТАЛОГ</a>
                    <a href="gallery.html">ГАЛЛЕРЕЯ</a>
                    <a href="about.html">О КОМПАНИИ</a>
                    <a href="contacts.html">КОНТАКТЫ</a>
                </nav>
                <div class="header__upper-contacts">
                    <button class="header__upper-contacts__button button__yellow">
                        СОТРУДНИЧЕСТВО
                    </button>
                </div>
            </div>
        </div>
    </header>
    <main>
        <section class="gallery">
            <div class="container">
                <div class="gallery__main">
                    <div class="gallery__main-nav">
                        <a href="../index.html">Главная</a>
                        <span>-----</span>
                        <a href="gallery.html">Галлерея</a>
                    </div>
                    <h1>Наши работы</h1>
                    <div class="gallery__main-images" id="galleryMain">
                        <div class="main-images__container" id="galleryContainer">
                            <!-- Здесь располагаются большие посты -->
                        </div>
                        <div class="main-images__gallery" id="galleryMainContainer">
                            <!-- Здесь располагаются маленькие посты (SmallPost) -->
                        </div>
                    </div>
                    <div id="modalSlider" class="modal">
                        <span class="close">&times;</span>
                        <img class="modal-content" id="modalImage">
                        <div class="modal-caption" id="modalCaption"></div>
                        <div class="modal-nav">
                            <button id="prev">&#10094;</button>
                            <button id="next">&#10095;</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section>
            <div class="container">
                <div class="about__us">
                    <h2>О компании</h2>
                    <p>Наш салон красоты – это пространство, где каждая деталь создана для вашего комфорта и
                        преображения. Мы сочетаем современные технологии, профессиональный подход и лучшие косметические
                        бренды, чтобы подчеркнуть вашу естественную красоту.
                        <br>Наша миссия<br>
                        Мы верим, что красота — это гармония внешнего и внутреннего состояния. В «БАСКО» мы заботимся не
                        только о вашем внешнем облике, но и о вашем настроении, предлагая первоклассный сервис в уютной
                        атмосфере.
                    </p>
                    <div class="about__us-icon">
                        <div class="about__us-icon__img">
                            <img src="../img/tools.svg" alt="Tools icon">
                        </div>
                        <span>Собственное производство</span>
                    </div>
                    <div class="about__us-icon">
                        <div class="about__us-icon__img">
                            <img src="../img/tools.svg" alt="Tools icon">
                        </div>
                        <span>Ускоренная доставка</span>
                    </div>
                    <div class="about__us-icon">
                        <div class="about__us-icon__img">
                            <img src="../img/tools.svg" alt="Tools icon">
                        </div>
                        <span>Собственное производство</span>
                    </div>
                    <img src="../img/aboutus.png" alt="RIng pic" class="about__us-img">
                </div>
            </div>
        </section>
    </main>
    <footer>
        <div class="container">
            <div class="upper-footer">
                <img src="../img/logo.png" alt="">
                <div class="upper-footer__nav">
                    <nav>
                        <a href="../index.html">ГЛАВНАЯ</a>
                        <a href="catalogue.html">КАТАЛОГ</a>
                        <a href="gallery.html">ГАЛЛЕРЕЯ</a>
                        <a href="about.html">О КОМПАНИИ</a>
                        <a href="contacts.html">КОНТАКТЫ</a>
                    </nav>
                    <button class="button__yellow">СОТРУДНИЧЕСТВО</button>
                </div>
            </div>
            <div class="under-footer">
                <span>© Bassco 2022</span>
                <a href="asd">Политика конфиденциальности</a>
            </div>
        </div>
    </footer>
    <script>
        let postArray = [];
        let smallPostArray = [];
    
        class Post {
            constructor(masterName, tag = "div", imgId, style = {}, description = "") {
                this.masterName = masterName;
                this.tag = tag;
                this.imgId = imgId;
                this.description = description;
    
                let defaultStyle = {
                    padding: "20px",
                    margin: "10px",
                    backgroundColor: "#f9f9f9",
                    borderRadius: "10px",
                    boxShadow: "0 0 30px 5px rgba(0, 0, 0, 0.15)",
                    color: "#333",
                    backgroundSize: "cover",
                    backgroundPosition: "center",
                    backgroundRepeat: "no-repeat",
                    minHeight: "200px",
                    width: "27%",
                    border: "7px solid white",
                    borderBottom: "40px solid white",
                    transition: "0.25s",
                    height: "470px",
                    cursor: "pointer"
                };
    
                this.style = {};
                for (let key in defaultStyle) {
                    this.style[key] = defaultStyle[key];
                }
    
                for (let key in style) {
                    this.style[key] = style[key];
                }
    
                if (this.imgId) {
                    this.style.backgroundImage = `url('../img/galleryImages/image${this.imgId}.jpg')`;
                }
    
                this.element = document.createElement(this.tag);
                this.element.innerHTML = `<div></div>`;
    
                for (let key in this.style) {
                    this.element.style[key] = this.style[key];
                }
    
                postArray.push(this);
            }
        }
    
        class SmallPost extends Post {
            constructor(masterName, tag = "div", imgId, style = {}, description = "") {
                super(masterName, tag, imgId, style, description);
                this.element.style.width = "100%";
                this.element.style.height = "100%";
                smallPostArray.push(this);
            }
        }
    
        let currentIndex = 0;
    
        let modal = document.getElementById("modalSlider");
        let modalImg = document.getElementById("modalImage");
        let modalCaption = document.getElementById("modalCaption");
        let close = document.querySelector(".close");
        let prev = document.getElementById("prev");
        let next = document.getElementById("next");
    
        function openModal(index) {
            currentIndex = index;
            let currentPost = allImages[index];
            modal.style.display = "flex";
            modalImg.src = `../img/galleryImages/image${currentPost.imgId}.jpg`;
            modalCaption.textContent = currentPost.description || "";
        }
    
        function closeModal() {
            modal.style.display = "none";
        }
    
        function showNext() {
            currentIndex = (currentIndex + 1) % allImages.length;
            openModal(currentIndex);
        }
    
        function showPrev() {
            currentIndex = (currentIndex - 1 + allImages.length) % allImages.length;
            openModal(currentIndex);
        }
    
        close.addEventListener("click", closeModal);
        next.addEventListener("click", showNext);
        prev.addEventListener("click", showPrev);
    
        modal.addEventListener("click", function (event) {
            if (event.target === modal) {
                closeModal();
            }
        });
    
        document.addEventListener("keydown", function (event) {
            if (event.key === "Escape" && modal.style.display === "flex") {
                closeModal();
            }
        });
    
        // Создание постов
        new Post("Анна", "div", 1, {}, "Маникюр с цветочным дизайном");
        new Post("Елена", "div", 2, {}, "Классический френч");
        new Post("Мария", "div", 3, {}, "Летний яркий маникюр");
    
        new SmallPost("Ирина", "div", 4, {}, "Акцент на минимализме");
        new SmallPost("Светлана", "div", 5, {}, "Яркие акценты");
        new SmallPost("Ольга", "div", 6, {}, "Элегантный стиль");
        new SmallPost("Ирина", "div", 7, {}, "Акцент на минимализме");
        new SmallPost("Светлана", "div", 8, {}, "Яркие акценты");
        new SmallPost("Ольга", "div", 9, {}, "Элегантный стиль");
        new SmallPost("Ольга", "div", 10, {}, "Элегантный стиль");
    
        let container = document.getElementById("galleryContainer");
        postArray.forEach(post => {
            container.appendChild(post.element);
        });
    
        let smallContainer = document.getElementById("galleryMainContainer");
        smallPostArray.forEach(smallPost => {
            smallContainer.appendChild(smallPost.element);
        });
    
        let allImages = [];
        for (let i = 0; i < postArray.length; i++) {
            allImages.push(postArray[i]);
        }
    
        for (let i = 0; i < smallPostArray.length; i++) {
            allImages.push(smallPostArray[i]);
        }
    
        for (let i = 0; i < allImages.length; i++) {
            allImages[i].element.addEventListener("click", function () {
                openModal(i);
            });
        }
    </script>    
</body>

</html>